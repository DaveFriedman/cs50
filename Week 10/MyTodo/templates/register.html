{% extends "layout.html" %}

{% block title %}
    Register
{% endblock %}

{% block main %}
    
    <h3>Create an account</h3>

    <form action="/register" method="post">
        <div class="form-group">
            <input class="form-control" id="username" name="username"
                   placeholder="new username" type="text" 
                   autocomplete="off" autofocus>
        </div>
        <div class="form-group">
            <input class="form-control" id="password" name="password" 
                   placeholder="password" type="password" 
                   onkeyup="check();">
            <br>
            <input class="form-control" id="confirmation" name="confirmation"
                   placeholder="confirm password" type="password" 
                   onkeyup="check();">
            <br>
            <span id="message"></span>
        </div>
        <div class="form-group">
            <input class="form-control" id="email" name="email" 
                   placeholder="email address" type="text"
                   autocomplete="off" autofocus>
        </div>
        <button class="btn btn-primary" type="submit" id="submit" name="submit">
            Register
        </button>
    </form>
    <script>
        function check() {
            error = document.getElementById("message");
            if (document.getElementById("password").value ==
                    document.getElementById("confirmation").value) {
                document.getElementById("submit").disabled = false;
                error.innerHTML = "";
            } else {
                document.getElementById("submit").disabled = true;
                error.innerHTML = "Passwords don't match";
            }
        }
    </script>
    
{% endblock %}